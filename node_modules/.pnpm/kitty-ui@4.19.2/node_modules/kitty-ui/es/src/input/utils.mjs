const b = (r) => typeof r == "number";
let t;
const c = `
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`, u = [
  "letter-spacing",
  "line-height",
  "padding-top",
  "padding-bottom",
  "font-family",
  "font-weight",
  "font-size",
  "text-rendering",
  "text-transform",
  "width",
  "text-indent",
  "padding-left",
  "padding-right",
  "border-width",
  "box-sizing"
];
function m(r) {
  const e = window.getComputedStyle(r), l = e.getPropertyValue("box-sizing"), n = Number.parseFloat(e.getPropertyValue("padding-bottom")) + Number.parseFloat(e.getPropertyValue("padding-top")), a = Number.parseFloat(e.getPropertyValue("border-bottom-width")) + Number.parseFloat(e.getPropertyValue("border-top-width"));
  return { contextStyle: u.map(
    (p) => `${p}:${e.getPropertyValue(p)}`
  ).join(";"), paddingSize: n, borderSize: a, boxSizing: l };
}
function x(r, e = 1, l) {
  var s;
  t || (t = document.createElement("textarea"), document.body.appendChild(t));
  const { paddingSize: n, borderSize: a, boxSizing: d, contextStyle: p } = m(r);
  t.setAttribute("style", `${p};${c}`), t.value = r.value || r.placeholder || "";
  let o = t.scrollHeight;
  const g = {};
  d === "border-box" ? o = o + a : d === "content-box" && (o = o - n), t.value = "";
  const h = t.scrollHeight - n;
  if (b(e)) {
    let i = h * e;
    d === "border-box" && (i = i + n + a), o = Math.max(i, o), g.minHeight = `${i}px`;
  }
  if (b(l)) {
    let i = h * l;
    d === "border-box" && (i = i + n + a), o = Math.min(i, o);
  }
  return g.height = `${o}px`, (s = t.parentNode) == null || s.removeChild(t), t = void 0, g;
}
export {
  x as calcTextareaHeight
};
